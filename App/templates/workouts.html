{% extends "layout.html" %}
{% block title %}Workouts{% endblock %}
{% block page %}Workouts{% endblock %}

{{ super() }}

{% block content %}

<p>sfs</p>

<form class="col s12" method="POST" action="/workouts">
        
    <div class="row">
      <div class="input-field col s6">
        <input placeholder="workout name" name="exer_id" type="text">
        <label for="exer_id"></label>
      </div>
    </div>
  
    <div class="row">
      <div class="input-field col s12">
        <button class="btn waves-effect waves-light right purple" type="submit" name="action">Add to Workout</button>
      </div>
    </div> 

  </form>

  {%for workout in workouts%}
  <div class="row">
    <div class="col s12 m6">
      <div class="card blue-grey darken-1">
        <div class="card-content white-text">
          <span class="card-title">Workout ID: {{workout.work_id}}</span>
          <p><p>Workout name: {{workout.name}} </p>
          <p>Workout description: {{workout.description}} </p></p>

        </div>
        <div class="card-action">
          {% for test in workout.sets_reps %}
            {% if test.exercise_id ==  workout.exercise_id%}
              <p>Sets: {{ test.sets }}</p>
              <p>Reps: {{ test.reps }}</p>
            {% endif %}
          {% endfor %}
          <a href="#">This is a link</a>
        </div>
      </div>
    </div>
  </div>
  {%endfor%}

  {%for workout_exercise_entry in test%}
    <p>Exercise API ID: {{workout_exercise_entry.exercise_id}}</p>
    <p>Sets: {{workout_exercise_entry.sets}},</p>
    <p>Reps: {{workout_exercise_entry.reps}}</p>
    <p>Exercise name: {{workout_exercise_entry.exercise.name}} </p> <!--This is wrong way to display info-->

    {% for musc in workout_exercise_entry.exercise %} <!--This is the correct way to display the info, you have to iterate over the list of referenced objects.-->
                          <p>Exercise name:{{musc.name }}</p>
                      {% endfor %}
    
  {%endfor%}

{% endblock %}
